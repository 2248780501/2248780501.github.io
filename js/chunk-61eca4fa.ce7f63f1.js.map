{"version":3,"sources":["webpack:///./src/views/goods/components/goods-tabs.vue?e55a","webpack:///./src/views/goods/components/goods-comment.vue?6233","webpack:///./src/views/goods/components/goods-relevant.vue","webpack:///./src/views/goods/components/goods-relevant.vue?97e8","webpack:///./src/views/goods/index.vue?eadd","webpack:///./src/views/goods/components/goods-image.vue?905a","webpack:///./src/views/goods/components/goods-sku.vue?e8a2","webpack:///./src/views/goods/components/goods-detial.vue?8b51","webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./src/views/category/components/goods-item.vue?dae1","webpack:///./src/views/category/components/goods-item.vue","webpack:///./src/views/category/components/goods-item.vue?32cc","webpack:///./src/views/goods/index.vue","webpack:///./src/views/goods/components/goods-image.vue","webpack:///./src/views/goods/components/goods-image.vue?ae7f","webpack:///./src/views/goods/components/goods-sales.vue","webpack:///./src/views/goods/components/goods-sales.vue?5881","webpack:///./src/views/goods/components/goods-name.vue","webpack:///./src/views/goods/components/goods-name.vue?b35c","webpack:///./src/views/goods/components/goods-tabs.vue","webpack:///./src/views/goods/components/goods-detial.vue","webpack:///./src/views/goods/components/goods-detial.vue?d189","webpack:///./src/views/goods/components/goods-comment.vue","webpack:///./src/views/goods/components/goods-comment-image.vue","webpack:///./src/views/goods/components/goods-comment-image.vue?ae20","webpack:///./src/views/goods/components/goods-comment.vue?02cb","webpack:///./src/views/goods/components/goods-tabs.vue?dc24","webpack:///./src/views/goods/components/goods-hot.vue","webpack:///./src/views/goods/components/goods-hot.vue?f5c7","webpack:///./src/views/goods/components/goods-warn.vue","webpack:///./src/views/goods/components/goods-warn.vue?6341","webpack:///./src/views/goods/index.vue?2555","webpack:///./src/views/goods/components/goods-comment-image.vue?35d6","webpack:///./src/views/goods/components/goods-sales.vue?bffb","webpack:///./src/views/goods/components/goods-warn.vue?710a","webpack:///./src/views/goods/components/goods-name.vue?7ddb","webpack:///./src/views/goods/components/goods-hot.vue?104a","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./src/views/goods/components/goods-relevant.vue?75d7","webpack:///./src/api/product.js","webpack:///./node_modules/core-js/internals/string-trim-forced.js","webpack:///./src/views/goods/components/goods-sku.vue","webpack:///./src/vender/power-set.js","webpack:///./src/views/goods/components/goods-sku.vue?ca9b"],"names":["class","goodsId","sliders","name","props","type","String","default","setup","id","then","data","pageSize","pageCount","Math","ceil","result","length","i","value","push","slice","render","__scopeId","$","$trim","trim","forcedStringTrimMethod","target","proto","forced","this","alt","href","isLink","to","goods","picture","desc","price","Object","Boolean","loading","categories","images","mainPictures","changeSku","label","num","max","inventory","insertCart","style","ref","currIndex","largePosition","show","src","layerPosition","img","key","Array","left","top","backgroundPositionX","backgroundPositionY","elementX","elementY","isOutside","position","x","y","oldPrice","changeCity","fullLocation","provinceCode","cityCode","countyCode","userAddresses","defaultAddresss","find","item","isDefualt","activeName","commentCount","details","properties","pictures","commentInfo","salesCount","praisePercent","tags","title","currentTagIndex","changeTag","tagCount","changeSort","reqParams","sortField","commentList","member","avatar","formatNickname","nickname","score","formatSpecs","orderInfo","specs","content","createTime","praiseCount","total","changePagerFn","page-size","current-page","page","url","currImg","components","GoodsCommentImage","unshift","hasPictureCount","evaluateCount","tag","hasPicture","items","counts","immediate","reduce","p","c","nameValue","substr","newPage","GoodsDetial","GoodsComment","goodsList","GoodsItem","Number","types","1","2","3","route","params","script","GoodsRelevant","GoodsImage","GoodsSales","GoodsName","GoodsSku","GoodsTabs","GoodsHot","GoodsWarn","sku","skuId","currSku","store","attrsText","specsText","stock","dispatch","nowPrice","selected","isEffective","count","Message","text","newVal","path","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","join","ES3_STRINGS","STRICT_METHOD","separator","call","undefined","findGoods","request","findRelevantGoods","limit","findGoodsHot","findGoodsCommentInfo","findGoodsCommentList","fails","whitespaces","non","module","exports","METHOD_NAME","values","val","disabled","bwPowerSet","originalSet","subSets","numberOfCombinations","combinationIndex","subSet","setElementIndex","spliter","skus","pathMap","forEach","valueArr","map","valueName","valueArrPowerSet","arr","getSelectedValues","seletedVal","updateDisabledStatus","selectedValues","filter","initDefaultSelected","emit","valItem","validSelectedValues","v","skuIds"],"mappings":"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","file":"js/chunk-61eca4fa.ce7f63f1.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./goods-tabs.vue?vue&type=style&index=0&id=5077aaae&scoped=true&lang=less\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./goods-comment.vue?vue&type=style&index=0&id=23e1859c&scoped=true&lang=less\"","<template>\r\n  <!-- 商品详情-同类推荐组件 -->\r\n  <div class=\"goods-relevant\">\r\n    <div class=\"header\">\r\n      <i class=\"icon\" />\r\n      <span class=\"title\">{{goodsId?'同类商品推荐':'猜你喜欢'}}</span>\r\n    </div>\r\n    <!-- 此处使用改造后的xtx-carousel.vue -->\r\n    <XtxCarousel :sliders=\"sliders\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue'\r\nimport { findRelevantGoods } from '@/api/product'\r\nexport default {\r\n  // 同类推荐，猜你喜欢\r\n  name: 'GoodsRelevant',\r\n  props: {\r\n    goodsId: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  setup (props) {\r\n    // 最终需要的数据是 sliders 提供给轮播图使用\r\n    // 数据结构：sliders = [[4个],[4个],[4个],[4个]]\r\n    const sliders = ref([])\r\n    findRelevantGoods({ id: props.goodsId }).then(data => {\r\n      // data.result 商品列表，数据结构 [16个]\r\n      // 将data.result数据赋值给sliders数据，保证数据结构正确\r\n      const pageSize = 4\r\n      const pageCount = Math.ceil(data.result.length / pageSize)\r\n      for (let i = 0; i < pageCount; i++) {\r\n        sliders.value.push(data.result.slice(pageSize * i, pageSize * (i + 1)))\r\n      }\r\n    })\r\n    return { sliders }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n.goods-relevant {\r\n  background: #fff;\r\n  min-height: 460px;\r\n  margin-top: 20px;\r\n  .header {\r\n    height: 80px;\r\n    line-height: 80px;\r\n    padding: 0 20px;\r\n    .title {\r\n      font-size: 20px;\r\n      padding-left: 10px;\r\n    }\r\n    .icon {\r\n      width: 16px;\r\n      height: 16px;\r\n      display: inline-block;\r\n      border-top: 4px solid @xtxColor;\r\n      border-right: 4px solid @xtxColor;\r\n      box-sizing: border-box;\r\n      position: relative;\r\n      transform: rotate(45deg);\r\n      &::before {\r\n        content: \"\";\r\n        width: 10px;\r\n        height: 10px;\r\n        position: absolute;\r\n        left: 0;\r\n        top: 2px;\r\n        background: lighten(@xtxColor, 40%);\r\n      }\r\n    }\r\n  }\r\n}\r\n:deep(.xtx-carousel) {\r\n  height: 380px;\r\n  .carousel {\r\n    &-indicator {\r\n      bottom: 30px;\r\n      span {\r\n        &.active {\r\n          background: @xtxColor;\r\n        }\r\n      }\r\n    }\r\n    &-btn {\r\n      top: 110px;\r\n      opacity: 1;\r\n      background: rgba(0,0,0,0);\r\n      color: #ddd;\r\n      i {\r\n        font-size: 30px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./goods-relevant.vue?vue&type=template&id=3e807466&scoped=true\"\nimport script from \"./goods-relevant.vue?vue&type=script&lang=js\"\nexport * from \"./goods-relevant.vue?vue&type=script&lang=js\"\n\nimport \"./goods-relevant.vue?vue&type=style&index=0&id=3e807466&scoped=true&lang=less\"\nscript.render = render\nscript.__scopeId = \"data-v-3e807466\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=0de70dc8&scoped=true&lang=less\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./goods-image.vue?vue&type=style&index=0&id=37a7863e&scoped=true&lang=less\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./goods-sku.vue?vue&type=style&index=0&id=8b9ee714&scoped=true&lang=less\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./goods-detial.vue?vue&type=style&index=0&id=2c43c764&scoped=true&lang=less\"","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./goods-item.vue?vue&type=style&index=0&id=3d940a34&scoped=true&lang=less\"","<template>\r\n <!-- 顶级类目-分类商品-布局 -->\r\n  <RouterLink v-if=\"isLink\" :to=\"`/product/${goods.id}`\" class='goods-item'>\r\n    <img v-lazy=\"goods.picture\" alt=\"\">\r\n    <p class=\"name ellipsis\">{{goods.name}}</p>\r\n    <p class=\"desc ellipsis\">{{goods.desc}}</p>\r\n    <p class=\"price\">&yen;{{goods.price}}</p>\r\n  </RouterLink>\r\n  <a v-else href=\"javascript:;\" class='goods-item'>\r\n    <img v-lazy=\"goods.picture\" alt=\"\">\r\n    <p class=\"name ellipsis\">{{goods.name}}</p>\r\n    <p class=\"desc ellipsis\">{{goods.desc}}</p>\r\n    <p class=\"price\">&yen;{{goods.price}}</p>\r\n  </a>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'GoodsItem',\r\n  props: {\r\n    goods: {\r\n      type: Object,\r\n      default: () => ({})\r\n    },\r\n    isLink: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n.goods-item {\r\n  display: block;\r\n  width: 220px;\r\n  padding: 20px 30px;\r\n  text-align: center;\r\n  .hoverShadow();\r\n  img {\r\n    width: 160px;\r\n    height: 160px;\r\n  }\r\n  p {\r\n    padding-top: 10px;\r\n  }\r\n  .name {\r\n    font-size: 16px;\r\n  }\r\n  .desc {\r\n    color: #999;\r\n    height: 29px;\r\n  }\r\n  .price {\r\n    color: @priceColor;\r\n    font-size: 20px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./goods-item.vue?vue&type=template&id=3d940a34&scoped=true\"\nimport script from \"./goods-item.vue?vue&type=script&lang=js\"\nexport * from \"./goods-item.vue?vue&type=script&lang=js\"\n\nimport \"./goods-item.vue?vue&type=style&index=0&id=3d940a34&scoped=true&lang=less\"\nscript.render = render\nscript.__scopeId = \"data-v-3d940a34\"\n\nexport default script","<template>\r\n  <!-- 商品详情-布局 -->\r\n  <div class='xtx-goods-page'>\r\n    <div class=\"container\" v-if=\"!loading && goods\">\r\n      <!-- 面包屑 -->\r\n      <XtxBread>\r\n        <XtxBreadItem to=\"/\">首页</XtxBreadItem>\r\n        <XtxBreadItem :to=\"`/category/${goods.categories[1].id}`\">{{goods.categories[1].name}}</XtxBreadItem>\r\n        <XtxBreadItem :to=\"`/category/sub/${goods.categories[0].id}`\">{{goods.categories[0].name}}</XtxBreadItem>\r\n        <XtxBreadItem>{{goods.name}}</XtxBreadItem>\r\n      </XtxBread>\r\n      <!-- 商品信息 -->\r\n      <div class=\"goods-info\">\r\n        <div class=\"media\">\r\n          <GoodsImage :images=\"goods.mainPictures\" />\r\n          <GoodsSales />\r\n        </div>\r\n        <div class=\"spec\">\r\n          <GoodsName :goods=\"goods\" />\r\n          <!-- sku组件 skuId=\"1369155865461919746\" 测试选中 -->\r\n          <GoodsSku :goods=\"goods\" @change=\"changeSku\" />\r\n          <!-- 数量选择组件 -->\r\n          <XtxNumbox label=\"数量\" v-model=\"num\" :max=\"goods.inventory\" />\r\n          <!-- 按钮组件 -->\r\n          <XtxButton @click=\"insertCart()\" type=\"primary\" style=\"margin-top:20px\">加入购物车</XtxButton>\r\n        </div>\r\n      </div>\r\n      <!-- 商品推荐 -->\r\n      <GoodsRelevant :goodsId=\"goods.id\" />\r\n      <!-- 商品详情 -->\r\n      <div class=\"goods-footer\">\r\n        <div class=\"goods-article\">\r\n          <!-- 商品+评价 -->\r\n          <GoodsTabs />\r\n          <!-- 注意事项 -->\r\n          <GoodsWarn />\r\n        </div>\r\n        <!-- 24热榜+周热销榜 -->\r\n        <div class=\"goods-aside\">\r\n          <GoodsHot />\r\n          <GoodsHot :type=\"2\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div v-else class=\"loading\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport GoodsRelevant from './components/goods-relevant'\r\nimport GoodsImage from './components/goods-image'\r\nimport GoodsSales from './components/goods-sales'\r\nimport GoodsName from './components/goods-name'\r\nimport GoodsSku from './components/goods-sku'\r\nimport GoodsTabs from './components/goods-tabs'\r\nimport GoodsHot from './components/goods-hot'\r\nimport GoodsWarn from './components/goods-warn'\r\nimport { nextTick, provide, ref, watch } from 'vue'\r\nimport { findGoods } from '@/api/product'\r\nimport { useRoute } from 'vue-router'\r\nimport { useStore } from 'vuex'\r\nimport Message from '@/components/library/Message'\r\nexport default {\r\n  name: 'XtxGoodsPage',\r\n  components: { GoodsRelevant, GoodsImage, GoodsSales, GoodsName, GoodsSku, GoodsTabs, GoodsHot, GoodsWarn },\r\n  setup () {\r\n    const { goods, loading } = useGoods()\r\n    const changeSku = (sku) => {\r\n      // 修改商品的现价原价库存信息\r\n      if (sku.skuId) {\r\n        goods.value.price = sku.price\r\n        goods.value.oldPrice = sku.oldPrice\r\n        goods.value.inventory = sku.inventory\r\n      }\r\n      // 记录选择后的sku，可能有数据，可能没有数据{}\r\n      currSku.value = sku\r\n    }\r\n\r\n    // 提供goods数据给后代组件使用\r\n    provide('goods', goods)\r\n\r\n    // 选择的数量\r\n    const num = ref(1)\r\n\r\n    // 加入购物车\r\n    const store = useStore()\r\n    const currSku = ref(null)\r\n    const insertCart = () => {\r\n      if (currSku.value && currSku.value.skuId) {\r\n        // id skuId name attrsText picture price nowPrice selected stock count isEffective\r\n        const { skuId, specsText: attrsText, inventory: stock } = currSku.value\r\n        const { id, name, price, mainPictures } = goods.value\r\n        store.dispatch('cart/insertCart', {\r\n          skuId,\r\n          attrsText,\r\n          stock,\r\n          id,\r\n          name,\r\n          price,\r\n          nowPrice: price,\r\n          picture: mainPictures[0],\r\n          selected: true,\r\n          isEffective: true,\r\n          count: num.value\r\n        }).then(() => {\r\n          Message({ type: 'success', text: '加入购物车成功' })\r\n        })\r\n      } else {\r\n        Message({ text: '请选择完整规格' })\r\n      }\r\n    }\r\n\r\n    return { goods, loading, changeSku, num, insertCart }\r\n  }\r\n}\r\n// 获取商品详情\r\nconst useGoods = () => {\r\n  // 出现路由地址商品ID发生变化，但是不会重新初始化组件\r\n  const goods = ref(null)\r\n  const route = useRoute()\r\n  const loading = ref(false)\r\n  watch(() => route.params.id, (newVal) => {\r\n    if (newVal && `/product/${newVal}` === route.path) {\r\n      loading.value = true\r\n      findGoods(route.params.id).then(data => {\r\n        // 让商品数据为null然后使用v-if的组件可以重新销毁和创建\r\n        goods.value = null\r\n        nextTick(() => {\r\n          goods.value = data.result\r\n          loading.value = false\r\n        })\r\n      })\r\n    }\r\n  }, { immediate: true })\r\n  return { goods, loading }\r\n}\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n.loading {\r\n  height: 580px;\r\n  width: 1240px;\r\n  margin: 72px auto 20px;\r\n  background: rgba(255,255,255,.9) url(../../assets/images/loading.gif) no-repeat center;\r\n}\r\n.goods-info {\r\n  min-height: 600px;\r\n  background: #fff;\r\n  display: flex;\r\n  .media {\r\n    width: 580px;\r\n    height: 600px;\r\n    padding: 30px 50px;\r\n  }\r\n  .spec {\r\n    flex: 1;\r\n    padding: 30px 30px 30px 0;\r\n  }\r\n}\r\n.goods-footer {\r\n  display: flex;\r\n  margin-top: 20px;\r\n  .goods-article {\r\n    width: 940px;\r\n    margin-right: 20px;\r\n  }\r\n  .goods-aside {\r\n    width: 280px;\r\n    min-height: 1000px;\r\n  }\r\n}\r\n// .goods-tabs {\r\n//   min-height: 600px;\r\n//   background: #fff;\r\n// }\r\n// .goods-warn {\r\n//   min-height: 600px;\r\n//   background: #fff;\r\n//   margin-top: 20px;\r\n// }\r\n</style>\r\n","<template>\r\n  <!-- 商品详情-图片放大镜 -->\r\n  <div class=\"goods-image\">\r\n    <!-- 大图 -->\r\n    <div v-show=\"show\" class=\"large\" :style=\"[{backgroundImage:`url(${images[currIndex]})`},largePosition]\"></div>\r\n    <!-- 中图 -->\r\n    <div class=\"middle\" ref=\"target\">\r\n      <img :src=\"images[currIndex]\" alt=\"\">\r\n      <!-- 遮罩色块 -->\r\n      <div v-show=\"show\" class=\"layer\" :style=\"layerPosition\"></div>\r\n    </div>\r\n    <!-- 小图 -->\r\n    <ul class=\"small\">\r\n      <li v-for=\"(img,i) in images\" :key=\"img\" :class=\"{active:i===currIndex}\">\r\n        <img @mouseenter=\"currIndex=i\" :src=\"img\" alt=\"\">\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { reactive, ref, watch } from 'vue'\r\nimport { useMouseInElement } from '@vueuse/core'\r\nexport default {\r\n  name: 'GoodsImage',\r\n  props: {\r\n    images: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  setup (props) {\r\n    // 当前预览图的索引\r\n    const currIndex = ref(0)\r\n\r\n    // 1. 是否显示遮罩和大图\r\n    const show = ref(false)\r\n    // 2. 遮罩的坐标(样式)\r\n    const layerPosition = reactive({\r\n      left: 0,\r\n      top: 0\r\n    })\r\n    // 3. 大图背景定位(样式)\r\n    const largePosition = reactive({\r\n      backgroundPositionX: 0,\r\n      backgroundPositionY: 0\r\n    })\r\n    // 4. 使用useMouseInElement得到基于元素左上角的坐标和是否离开元素数据\r\n    const target = ref(null)\r\n    const { elementX, elementY, isOutside } = useMouseInElement(target)\r\n    watch([elementX, elementY, isOutside], () => {\r\n      // 5. 根据得到数据设置样式数据和是否显示数据\r\n      show.value = !isOutside.value\r\n      // 计算坐标\r\n      const position = { x: 0, y: 0 }\r\n\r\n      if (elementX.value < 100) position.x = 0\r\n      else if (elementX.value > 300) position.x = 200\r\n      else position.x = elementX.value - 100\r\n\r\n      if (elementY.value < 100) position.y = 0\r\n      else if (elementY.value > 300) position.y = 200\r\n      else position.y = elementY.value - 100\r\n      // 给样式赋值\r\n      layerPosition.left = position.x + 'px'\r\n      layerPosition.top = position.y + 'px'\r\n      largePosition.backgroundPositionX = -2 * position.x + 'px'\r\n      largePosition.backgroundPositionY = -2 * position.y + 'px'\r\n    })\r\n\r\n    return { currIndex, show, layerPosition, largePosition, target }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.goods-image {\r\n  width: 480px;\r\n  height: 400px;\r\n  position: relative;\r\n  display: flex;\r\n  z-index: 500;\r\n  .large {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 412px;\r\n    width: 400px;\r\n    height: 400px;\r\n    box-shadow: 0 0 10px rgba(0,0,0,0.1);\r\n    background-repeat: no-repeat;\r\n    background-size: 800px 800px;\r\n    background-color: #f8f8f8;\r\n  }\r\n  .middle {\r\n    width: 400px;\r\n    height: 400px;\r\n    background: #f5f5f5;\r\n    position: relative;\r\n    cursor: move;\r\n    .layer {\r\n      width: 200px;\r\n      height: 200px;\r\n      background: rgba(0,0,0,.2);\r\n      left: 0;\r\n      top: 0;\r\n      position: absolute;\r\n    }\r\n  }\r\n  .small {\r\n    width: 80px;\r\n    li {\r\n      width: 68px;\r\n      height: 68px;\r\n      margin-left: 12px;\r\n      margin-bottom: 15px;\r\n      cursor: pointer;\r\n      &:hover,&.active {\r\n        border: 2px solid @xtxColor;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./goods-image.vue?vue&type=template&id=37a7863e&scoped=true\"\nimport script from \"./goods-image.vue?vue&type=script&lang=js\"\nexport * from \"./goods-image.vue?vue&type=script&lang=js\"\n\nimport \"./goods-image.vue?vue&type=style&index=0&id=37a7863e&scoped=true&lang=less\"\nscript.render = render\nscript.__scopeId = \"data-v-37a7863e\"\n\nexport default script","<template>\r\n  <!-- 商品详情-基本信息展示 -->\r\n  <ul class=\"goods-sales\">\r\n    <li>\r\n      <p>销量人气</p>\r\n      <p>200+</p>\r\n      <p><i class=\"iconfont icon-task-filling\"></i>销量人气</p>\r\n    </li>\r\n    <li>\r\n      <p>商品评价</p>\r\n      <p>400+</p>\r\n      <p><i class=\"iconfont icon-comment-filling\"></i>查看评价</p>\r\n    </li>\r\n    <li>\r\n      <p>收藏人气</p>\r\n      <p>600+</p>\r\n      <p><i class=\"iconfont icon-favorite-filling\"></i>收藏商品</p>\r\n    </li>\r\n    <li>\r\n      <p>品牌信息</p>\r\n      <p>苏宁电器</p>\r\n      <p><i class=\"iconfont icon-dynamic-filling\"></i>品牌主页</p>\r\n    </li>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'GoodsSales'\r\n}\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n.goods-sales {\r\n  display: flex;\r\n  width: 400px;\r\n  align-items: center;\r\n  text-align: center;\r\n  height: 140px;\r\n  li {\r\n    flex: 1;\r\n    position: relative;\r\n    ~ li::after {\r\n      position: absolute;\r\n      top: 10px;\r\n      left: 0;\r\n      height: 60px;\r\n      border-left: 1px solid #e4e4e4;\r\n      content: \"\";\r\n    }\r\n    p {\r\n      &:first-child {\r\n        color: #999;\r\n      }\r\n      &:nth-child(2) {\r\n        color: @priceColor;\r\n        margin-top: 10px;\r\n      }\r\n      &:last-child {\r\n        color: #666;\r\n        margin-top: 10px;\r\n        i {\r\n          color: @xtxColor;\r\n          font-size: 14px;\r\n          margin-right: 2px;\r\n        }\r\n        &:hover {\r\n          color: @xtxColor;\r\n          cursor: pointer;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./goods-sales.vue?vue&type=template&id=3833df28&scoped=true\"\nimport script from \"./goods-sales.vue?vue&type=script&lang=js\"\nexport * from \"./goods-sales.vue?vue&type=script&lang=js\"\n\nimport \"./goods-sales.vue?vue&type=style&index=0&id=3833df28&scoped=true&lang=less\"\nscript.render = render\nscript.__scopeId = \"data-v-3833df28\"\n\nexport default script","<template>\r\n  <!-- 商品详情-城市组件-交互逻辑 -->\r\n  <p class=\"g-name\">{{goods.name}}</p>\r\n  <p class=\"g-desc\">{{goods.desc}}</p>\r\n  <p class=\"g-price\">\r\n    <span>{{goods.price}}</span>\r\n    <span>{{goods.oldPrice}}</span>\r\n  </p>\r\n  <div class=\"g-service\">\r\n    <dl>\r\n      <dt>促销</dt>\r\n      <dd>12月好物放送，App领券购买直降120元</dd>\r\n    </dl>\r\n    <dl>\r\n      <dt>配送</dt>\r\n      <dd>\r\n        <b style=\"vertical-align: middle; padding-right: 5px;font-weight:normal\">至</b>\r\n        <XtxCity @change=\"changeCity\" :fullLocation=\"fullLocation\" />\r\n      </dd>\r\n    </dl>\r\n    <dl>\r\n      <dt>服务</dt>\r\n      <dd>\r\n        <span>无忧退货</span>\r\n        <span>快速退款</span>\r\n        <span>免费包邮</span>\r\n        <a href=\"javascript:;\">了解详情</a>\r\n      </dd>\r\n    </dl>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue'\r\nexport default {\r\n  name: 'GoodName',\r\n  props: {\r\n    goods: {\r\n      type: Object,\r\n      default: () => ({})\r\n    }\r\n  },\r\n  setup (props) {\r\n    // 提供给后台的四项数据 (没登录)\r\n    const provinceCode = ref('110000')\r\n    const cityCode = ref('119900')\r\n    const countyCode = ref('110101')\r\n    const fullLocation = ref('北京市 市辖区 东城区')\r\n    // 取出用户收货地址中默认的地址给四个数据赋值 (已登录)\r\n    if (props.goods.userAddresses) {\r\n      const defaultAddresss = props.goods.userAddresses.find(item => item.isDefualt === 1)\r\n      if (defaultAddresss) {\r\n        provinceCode.value = defaultAddresss.provinceCode\r\n        cityCode.value = defaultAddresss.cityCode\r\n        countyCode.value = defaultAddresss.countyCode\r\n        fullLocation.value = defaultAddresss.fullLocation\r\n      }\r\n    }\r\n    // 城市选中事件处理函数\r\n    const changeCity = (result) => {\r\n      provinceCode.value = result.provinceCode\r\n      cityCode.value = result.cityCode\r\n      countyCode.value = result.countyCode\r\n      fullLocation.value = result.fullLocation\r\n    }\r\n    return { fullLocation, changeCity }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.xtx-city {\r\n  vertical-align: middle;\r\n}\r\n.g-name {\r\n  font-size: 22px\r\n}\r\n.g-desc {\r\n  color: #999;\r\n  margin-top: 10px;\r\n}\r\n.g-price {\r\n  margin-top: 10px;\r\n  span {\r\n    &::before {\r\n      content: \"¥\";\r\n      font-size: 14px;\r\n    }\r\n    &:first-child {\r\n      color: @priceColor;\r\n      margin-right: 10px;\r\n      font-size: 22px;\r\n    }\r\n    &:last-child {\r\n      color: #999;\r\n      text-decoration: line-through;\r\n      font-size: 16px;\r\n    }\r\n  }\r\n}\r\n.g-service {\r\n  background: #f5f5f5;\r\n  width: 500px;\r\n  padding: 20px 10px 0 10px;\r\n  margin-top: 10px;\r\n  dl {\r\n    padding-bottom: 20px;\r\n    display: flex;\r\n    align-items: center;\r\n    dt {\r\n      width: 50px;\r\n      color: #999;\r\n    }\r\n    dd {\r\n      color: #666;\r\n      &:last-child {\r\n        span {\r\n          margin-right: 10px;\r\n          &::before {\r\n            content: \"•\";\r\n            color: @xtxColor;\r\n            margin-right: 2px;\r\n          }\r\n        }\r\n        a {\r\n          color: @xtxColor;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./goods-name.vue?vue&type=template&id=778edb18&scoped=true\"\nimport script from \"./goods-name.vue?vue&type=script&lang=js\"\nexport * from \"./goods-name.vue?vue&type=script&lang=js\"\n\nimport \"./goods-name.vue?vue&type=style&index=0&id=778edb18&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-778edb18\"\n\nexport default script","<template>\r\n  <!-- 商品详情-标签页组件 -->\r\n  <div class=\"goods-tabs\">\r\n    <nav>\r\n      <a\r\n        @click=\"activeName = 'GoodsDetial'\"\r\n        :class=\"{ active: activeName === 'GoodsDetial' }\"\r\n        href=\"javascript:;\"\r\n        >商品详情</a\r\n      >\r\n      <a\r\n        @click=\"activeName = 'GoodsComment'\"\r\n        :class=\"{ active: activeName === 'GoodsComment' }\"\r\n        href=\"javascript:;\"\r\n        >商品评价<span>({{goods.commentCount}})</span></a\r\n      >\r\n    </nav>\r\n    <!-- 切换内容的地方 其实两个组件-->\r\n    <!-- 在vue中动态的去切换组件其实可以使用动态组件component组件 -->\r\n    <!-- is属性用来决定component动态组件渲染为那个组件，组件的名称 -->\r\n    <!-- <GoodsDetial v-if=\"activeName === 'GoodsDetial'\" />\r\n    <GoodsComment v-if=\"activeName === 'GoodsComment'\" /> -->\r\n    <component :is=\"activeName\"></component>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { ref, inject } from 'vue'\r\nimport GoodsDetial from './goods-detial'\r\nimport GoodsComment from './goods-comment'\r\nexport default {\r\n  name: 'GoodsTabs',\r\n  components: { GoodsDetial, GoodsComment },\r\n  setup () {\r\n    // activeName的值：GoodsDetial  GoodsComment\r\n    const activeName = ref('GoodsDetial')\r\n    // goods详情数据\r\n    const goods = inject('goods')\r\n    return { activeName, goods }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.goods-tabs {\r\n  min-height: 600px;\r\n  background: #fff;\r\n  nav {\r\n    height: 70px;\r\n    line-height: 70px;\r\n    display: flex;\r\n    border-bottom: 1px solid #f5f5f5;\r\n    a {\r\n      padding: 0 40px;\r\n      font-size: 18px;\r\n      position: relative;\r\n      > span {\r\n        color: @priceColor;\r\n        font-size: 16px;\r\n        margin-left: 10px;\r\n      }\r\n      &:first-child {\r\n        border-right: 1px solid #f5f5f5;\r\n      }\r\n      &.active {\r\n        &::before {\r\n          content: \"\";\r\n          position: absolute;\r\n          left: 40px;\r\n          bottom: -1px;\r\n          width: 72px;\r\n          height: 2px;\r\n          background: @xtxColor;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"goods-detail\">\r\n    <!-- 属性 -->\r\n    <ul class=\"attrs\">\r\n      <li v-for=\"item in goods.details.properties\" :key=\"item.value\">\r\n        <span class=\"dt\">{{item.name}}</span>\r\n        <span class=\"dd\">{{item.value}}</span>\r\n      </li>\r\n    </ul>\r\n    <!-- 图片 -->\r\n    <img v-for=\"item in goods.details.pictures\" :key=\"item\" :src=\"item\" alt=\"\">\r\n  </div>\r\n</template>\r\n<script>\r\nimport { inject } from 'vue'\r\nexport default {\r\n  name: 'GoodsDetial',\r\n  setup () {\r\n    const goods = inject('goods')\r\n    return { goods }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.goods-detail {\r\n  padding: 40px;\r\n  .attrs {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    margin-bottom: 30px;\r\n    li {\r\n      display: flex;\r\n      margin-bottom: 10px;\r\n      width: 50%;\r\n      .dt {\r\n        width: 100px;\r\n        color: #999;\r\n      }\r\n      .dd {\r\n        flex: 1;\r\n        color: #666;\r\n      }\r\n    }\r\n  }\r\n  > img {\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./goods-detial.vue?vue&type=template&id=2c43c764&scoped=true\"\nimport script from \"./goods-detial.vue?vue&type=script&lang=js\"\nexport * from \"./goods-detial.vue?vue&type=script&lang=js\"\n\nimport \"./goods-detial.vue?vue&type=style&index=0&id=2c43c764&scoped=true&lang=less\"\nscript.render = render\nscript.__scopeId = \"data-v-2c43c764\"\n\nexport default script","<template>\r\n  <!-- 商品详情-评价组件-头部渲染 -->\r\n  <div class=\"goods-comment\">\r\n    <!-- 评价头部 -->\r\n    <div class=\"head\" v-if=\"commentInfo\">\r\n      <div class=\"data\">\r\n        <p><span>{{ commentInfo.salesCount }}</span><span>人购买</span></p>\r\n        <p><span>{{ commentInfo.praisePercent }}</span><span>好评率</span></p>\r\n      </div>\r\n      <div class=\"tags\">\r\n        <div class=\"dt\">大家都在说：</div>\r\n        <div class=\"dd\">\r\n          <a\r\n            v-for=\"(item,i) in commentInfo.tags\"\r\n            :key=\"item.title\"\r\n            href=\"javascript:;\"\r\n            :class=\"{active:currentTagIndex===i}\"\r\n            @click=\"changeTag(i)\"\r\n            >{{item.title}}（{{item.tagCount}}）</a\r\n          >\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"sort\" v-if=\"commentInfo\">\r\n      <span>排序：</span>\r\n      <a @click=\"changeSort(null)\" :class=\"{active:reqParams.sortField===null}\" href=\"javascript:;\">默认</a>\r\n      <a @click=\"changeSort('createTime')\" :class=\"{active:reqParams.sortField==='createTime'}\" href=\"javascript:;\">最新</a>\r\n      <a @click=\"changeSort('praiseCount')\" :class=\"{active:reqParams.sortField==='praiseCount'}\" href=\"javascript:;\">最热</a>\r\n    </div>\r\n    <!-- 评价列表 -->\r\n    <div class=\"list\" v-if=\"commentList\">\r\n      <div class=\"item\" v-for=\"item in commentList\" :key=\"item.id\">\r\n        <div class=\"user\">\r\n          <img :src=\"item.member.avatar\" alt=\"\">\r\n          <span>{{formatNickname(item.member.nickname)}}</span>\r\n        </div>\r\n        <div class=\"body\">\r\n          <div class=\"score\">\r\n            <i v-for=\"i in item.score\" :key=\"i+'s'\" class=\"iconfont icon-wjx01\"></i>\r\n            <i v-for=\"i in 5-item.score\" :key=\"i+'k'\" class=\"iconfont icon-wjx02\"></i>\r\n            <span class=\"attr\">{{formatSpecs(item.orderInfo.specs)}}</span>\r\n          </div>\r\n          <div class=\"text\">{{item.content}}</div>\r\n          <!-- 评论图片组件 -->\r\n          <GoodsCommentImage v-if=\"item.pictures.length\" :pictures=\"item.pictures\" />\r\n          <div class=\"time\">\r\n            <span>{{item.createTime}}</span>\r\n            <span class=\"zan\"><i class=\"iconfont icon-dianzan\"></i>{{item.praiseCount}}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 分页组件 -->\r\n    <XtxPagination v-if=\"total\" @current-change=\"changePagerFn\" :page-size=\"reqParams.pageSize\" :current-page=\"reqParams.page\" />\r\n  </div>\r\n</template>\r\n<script>\r\nimport { inject, reactive, ref, watch } from 'vue'\r\nimport { findGoodsCommentInfo, findGoodsCommentList } from '@/api/product'\r\nimport GoodsCommentImage from './goods-comment-image'\r\nexport default {\r\n  name: 'GoodsComment',\r\n  components: { GoodsCommentImage },\r\n  setup () {\r\n    // 获取评价信息\r\n    const commentInfo = ref(null)\r\n    const goods = inject('goods')\r\n    findGoodsCommentInfo(goods.value.id).then((data) => {\r\n      data.result.tags.unshift({\r\n        title: '有图',\r\n        tagCount: data.result.hasPictureCount,\r\n        type: 'img'\r\n      })\r\n      data.result.tags.unshift({\r\n        title: '全部评价',\r\n        tagCount: data.result.evaluateCount,\r\n        type: 'all'\r\n      })\r\n      // 设置数据之前，tags数组前追加 有图tag  全部评价tag\r\n      commentInfo.value = data.result\r\n    })\r\n\r\n    // 激活tag\r\n    const currentTagIndex = ref(0)\r\n    const changeTag = (i) => {\r\n      currentTagIndex.value = i\r\n      // 点击tag的时候修改筛选条件\r\n      const tag = commentInfo.value.tags[i]\r\n      // 情况1：全部评价\r\n      // 情况2：有图\r\n      // 情况3：正常tag\r\n      if (tag.type === 'all') {\r\n        reqParams.hasPicture = null\r\n        reqParams.tag = null\r\n      } else if (tag.type === 'img') {\r\n        reqParams.hasPicture = true\r\n        reqParams.tag = null\r\n      } else {\r\n        reqParams.hasPicture = null\r\n        reqParams.tag = tag.title\r\n      }\r\n      // 重置页码1\r\n      reqParams.page = 1\r\n    }\r\n\r\n    // 点击排序\r\n    const changeSort = (sortField) => {\r\n      reqParams.sortField = sortField\r\n      // 重置页码1\r\n      reqParams.page = 1\r\n    }\r\n\r\n    // 准备筛选条件数据\r\n    const reqParams = reactive({\r\n      page: 1,\r\n      pageSize: 10,\r\n      hasPicture: null,\r\n      tag: null,\r\n      // 排序方式：praiseCount 热度  createTime 最新\r\n      sortField: null\r\n    })\r\n\r\n    // 初始化需要发请求，筛选条件发生改变发请求\r\n    const commentList = ref([])\r\n    const total = ref(0)\r\n    watch(reqParams, () => {\r\n      findGoodsCommentList(goods.value.id, reqParams).then(data => {\r\n        commentList.value = data.result.items\r\n        total.value = data.result.counts\r\n      })\r\n    }, { immediate: true })\r\n\r\n    // 定义转换数据的函数（对应vue2.0的过滤器）\r\n    const formatSpecs = (specs) => {\r\n      return specs.reduce((p, c) => `${p} ${c.name}：${c.nameValue}`, '').trim()\r\n    }\r\n    const formatNickname = (nickname) => {\r\n      return nickname.substr(0, 1) + '****' + nickname.substr(-1)\r\n    }\r\n\r\n    // 实现分页切换\r\n    const changePagerFn = (newPage) => {\r\n      reqParams.page = newPage\r\n    }\r\n\r\n    return { commentInfo, currentTagIndex, changeTag, reqParams, commentList, changeSort, formatSpecs, formatNickname, total, changePagerFn }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.goods-comment {\r\n  .head {\r\n    display: flex;\r\n    padding: 30px 0;\r\n    .data {\r\n      width: 340px;\r\n      display: flex;\r\n      padding: 20px;\r\n      p {\r\n        flex: 1;\r\n        text-align: center;\r\n        span {\r\n          display: block;\r\n          &:first-child {\r\n            font-size: 32px;\r\n            color: @priceColor;\r\n          }\r\n          &:last-child {\r\n            color: #999;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .tags {\r\n      flex: 1;\r\n      display: flex;\r\n      border-left: 1px solid #f5f5f5;\r\n      .dt {\r\n        font-weight: bold;\r\n        width: 100px;\r\n        text-align: right;\r\n        line-height: 42px;\r\n      }\r\n      .dd {\r\n        flex: 1;\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        > a {\r\n          width: 132px;\r\n          height: 42px;\r\n          margin-left: 20px;\r\n          margin-bottom: 20px;\r\n          border-radius: 4px;\r\n          border: 1px solid #e4e4e4;\r\n          background: #f5f5f5;\r\n          color: #999;\r\n          text-align: center;\r\n          line-height: 40px;\r\n          &:hover {\r\n            border-color: @xtxColor;\r\n            background: lighten(@xtxColor, 50%);\r\n            color: @xtxColor;\r\n          }\r\n          &.active {\r\n            border-color: @xtxColor;\r\n            background: @xtxColor;\r\n            color: #fff;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .sort {\r\n    height: 60px;\r\n    line-height: 60px;\r\n    border-top: 1px solid #f5f5f5;\r\n    border-bottom: 1px solid #f5f5f5;\r\n    margin: 0 20px;\r\n    color: #666;\r\n    > span {\r\n      margin-left: 20px;\r\n    }\r\n    > a {\r\n      margin-left: 30px;\r\n      &.active,\r\n      &:hover {\r\n        color: @xtxColor;\r\n      }\r\n    }\r\n  }\r\n    .list {\r\n    padding: 0 20px;\r\n    .item {\r\n      display: flex;\r\n      padding: 25px 10px;\r\n      border-bottom: 1px solid #f5f5f5;\r\n      .user {\r\n        width: 160px;\r\n        img {\r\n          width: 40px;\r\n          height: 40px;\r\n          border-radius: 50%;\r\n          overflow: hidden;\r\n        }\r\n        span {\r\n          padding-left: 10px;\r\n          color: #666;\r\n        }\r\n      }\r\n      .body {\r\n        flex: 1;\r\n        .score {\r\n          line-height: 40px;\r\n          .iconfont {\r\n            color: #ff9240;\r\n            padding-right: 3px;\r\n          }\r\n          .attr {\r\n            padding-left: 10px;\r\n            color: #666;\r\n          }\r\n        }\r\n      }\r\n      .text {\r\n        color: #666;\r\n        line-height: 24px;\r\n      }\r\n      .time {\r\n        color: #999;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        margin-top: 5px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n <!-- 商品详情-评价组件-图片预览 -->\r\n  <div class=\"goods-comment-image\">\r\n    <div class=\"list\">\r\n      <a :class=\"{active:currImg===url}\" @click=\"currImg=url\"  href=\"javascript:;\" v-for=\"url in pictures\" :key=\"url\">\r\n        <img :src=\"url\" alt=\"\">\r\n      </a>\r\n    </div>\r\n    <div class=\"preview\" v-if=\"currImg\">\r\n      <img :src=\"currImg\" alt=\"\">\r\n      <i @click=\"currImg=null\" class=\"iconfont icon-close-new\"></i>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { ref } from 'vue'\r\nexport default {\r\n  name: 'GoodsCommentImage',\r\n  props: {\r\n    pictures: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  setup () {\r\n    const currImg = ref(null)\r\n    return { currImg }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.goods-comment-image {\r\n  .list {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    margin-top: 10px;\r\n    a {\r\n      width: 120px;\r\n      height: 120px;\r\n      border:1px solid #e4e4e4;\r\n      margin-right: 20px;\r\n      margin-bottom: 10px;\r\n      img {\r\n        width: 100%;\r\n        height: 100%;\r\n        object-fit: contain;\r\n      }\r\n      &.active {\r\n        border-color: @xtxColor;\r\n      }\r\n    }\r\n  }\r\n}\r\n .preview {\r\n    width: 480px;\r\n    height: 480px;\r\n    border: 1px solid #e4e4e4;\r\n    background: #f8f8f8;\r\n    margin-bottom: 20px;\r\n    position: relative;\r\n    img {\r\n        width: 100%;\r\n        height: 100%;\r\n        object-fit: contain;\r\n    }\r\n    i {\r\n      position: absolute;\r\n      right: 0;\r\n      top: 0;\r\n      width: 30px;\r\n      height: 30px;\r\n      background: rgba(0,0,0,0.2);\r\n      color: #fff;\r\n      text-align: center;\r\n      line-height: 30px;\r\n    }\r\n  }\r\n</style>\r\n","import { render } from \"./goods-comment-image.vue?vue&type=template&id=eb550b54&scoped=true\"\nimport script from \"./goods-comment-image.vue?vue&type=script&lang=js\"\nexport * from \"./goods-comment-image.vue?vue&type=script&lang=js\"\n\nimport \"./goods-comment-image.vue?vue&type=style&index=0&id=eb550b54&scoped=true&lang=less\"\nscript.render = render\nscript.__scopeId = \"data-v-eb550b54\"\n\nexport default script","import { render } from \"./goods-comment.vue?vue&type=template&id=23e1859c&scoped=true\"\nimport script from \"./goods-comment.vue?vue&type=script&lang=js\"\nexport * from \"./goods-comment.vue?vue&type=script&lang=js\"\n\nimport \"./goods-comment.vue?vue&type=style&index=0&id=23e1859c&scoped=true&lang=less\"\nscript.render = render\nscript.__scopeId = \"data-v-23e1859c\"\n\nexport default script","import { render } from \"./goods-tabs.vue?vue&type=template&id=5077aaae&scoped=true\"\nimport script from \"./goods-tabs.vue?vue&type=script&lang=js\"\nexport * from \"./goods-tabs.vue?vue&type=script&lang=js\"\n\nimport \"./goods-tabs.vue?vue&type=style&index=0&id=5077aaae&scoped=true&lang=less\"\nscript.render = render\nscript.__scopeId = \"data-v-5077aaae\"\n\nexport default script","<template>\r\n <!-- 商品详情-热榜组件 -->\r\n  <div class=\"goods-hot\">\r\n    <h3>{{title}}</h3>\r\n    <div v-if=\"goodsList\">\r\n      <GoodsItem v-for=\"item in goodsList\" :key=\"item.id\" :goods=\"item\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport GoodsItem from '@/views/category/components/goods-item'\r\nimport { computed, ref } from 'vue'\r\nimport { findGoodsHot } from '@/api/product'\r\nimport { useRoute } from 'vue-router'\r\nexport default {\r\n  name: 'GoodsHot',\r\n  components: { GoodsItem },\r\n  props: {\r\n    // 热榜类型\r\n    type: {\r\n      type: Number,\r\n      default: 1\r\n    }\r\n  },\r\n  setup (props) {\r\n    // 类型数据字典\r\n    const types = { 1: '24小时热销榜', 2: '周热销榜', 3: '总热销榜' }\r\n    const title = computed(() => {\r\n      return types[props.type]\r\n    })\r\n    // 发请求获取数据\r\n    const route = useRoute()\r\n    const goodsList = ref([])\r\n    findGoodsHot({ id: route.params.id, type: props.type }).then(data => {\r\n      goodsList.value = data.result\r\n    })\r\n    return { title, goodsList }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.goods-hot {\r\n  h3 {\r\n    height: 70px;\r\n    background: @helpColor;\r\n    color: #fff;\r\n    font-size: 18px;\r\n    line-height: 70px;\r\n    padding-left: 25px;\r\n    margin-bottom: 10px;\r\n    font-weight: normal;\r\n  }\r\n  :deep(.goods-item) {\r\n    background: #fff;\r\n    width: 100%;\r\n    margin-bottom: 10px;\r\n    img {\r\n      width: 200px;\r\n      height: 200px;\r\n    }\r\n    p {\r\n      margin: 0 10px;\r\n    }\r\n    &:hover {\r\n      transform: none;\r\n      box-shadow: none;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./goods-hot.vue?vue&type=template&id=5bcf9c37&scoped=true\"\nimport script from \"./goods-hot.vue?vue&type=script&lang=js\"\nexport * from \"./goods-hot.vue?vue&type=script&lang=js\"\n\nimport \"./goods-hot.vue?vue&type=style&index=0&id=5bcf9c37&scoped=true&lang=less\"\nscript.render = render\nscript.__scopeId = \"data-v-5bcf9c37\"\n\nexport default script","<template>\r\n  <!-- 商品详情-注意事项组件 -->\r\n  <div class=\"goods-warn\">\r\n    <h3>注意事项</h3>\r\n    <p class=\"tit\">• 购买运费如何收取？</p>\r\n    <p>\r\n      单笔订单金额(不含运费)满88元免邮费；不满88元，每单收取10元运费。（港澳台地区需满500元免邮费；不满500元，每单收取30元运费)\r\n    </p>\r\n    <br />\r\n    <p class=\"tit\">• 使用什么快递发货?</p>\r\n    <p>默认使用顺丰快递发货(个别商品使用其他快递）</p>\r\n    <p>配送范围覆盖全国大部分地区(港澳台地区除外）</p>\r\n    <br />\r\n    <p class=\"tit\">• 如何申请退货?</p>\r\n    <p>\r\n      1.自收到商品之日起30日内，顾客可申请无忧退货，退款将原路返还，不同的银行处理时间不同，预计1-5个工作日到账；\r\n    </p>\r\n    <p>2.内裤和食品等特殊商品无质量问题不支持退货；</p>\r\n    <p>\r\n      3.退货流程：\r\n      确认收货-申请退货-客服审核通过-用户寄回商品-仓库签收验货-退款审核-退款完成；\r\n    </p>\r\n    <p>\r\n      4.因小刀购产生的退货，如质量问题，退货邮费由小刀购承担，退款完成后会以现金券的形式报销。因客户个人原因产生的退货，购买和寄回运费由客户个人承担。\r\n    </p>\r\n  </div>\r\n</template>\r\n<style lang=\"less\" scoped>\r\n.goods-warn {\r\n  margin-top: 20px;\r\n  background: #fff;\r\n  padding-bottom: 40px;\r\n  h3 {\r\n    height: 70px;\r\n    line-height: 70px;\r\n    border-bottom: 1px solid #f5f5f5;\r\n    padding-left: 50px;\r\n    font-size: 18px;\r\n    font-weight: normal;\r\n    margin-bottom: 10px;\r\n  }\r\n  p {\r\n    line-height: 40px;\r\n    padding: 0 25px;\r\n    color: #666;\r\n    &.tit {\r\n      color: #333;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./goods-warn.vue?vue&type=template&id=5fa38b8a&scoped=true\"\nconst script = {}\n\nimport \"./goods-warn.vue?vue&type=style&index=0&id=5fa38b8a&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-5fa38b8a\"\n\nexport default script","import { render } from \"./index.vue?vue&type=template&id=0de70dc8&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=0de70dc8&scoped=true&lang=less\"\nscript.render = render\nscript.__scopeId = \"data-v-0de70dc8\"\n\nexport default script","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./goods-comment-image.vue?vue&type=style&index=0&id=eb550b54&scoped=true&lang=less\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./goods-sales.vue?vue&type=style&index=0&id=3833df28&scoped=true&lang=less\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./goods-warn.vue?vue&type=style&index=0&id=5fa38b8a&lang=less&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./goods-name.vue?vue&type=style&index=0&id=778edb18&lang=less&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./goods-hot.vue?vue&type=style&index=0&id=5bcf9c37&scoped=true&lang=less\"","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./goods-relevant.vue?vue&type=style&index=0&id=3e807466&scoped=true&lang=less\"","// 提供商品相关的API函数\r\nimport request from '@/utils/request'\r\n\r\n/**\r\n * 获取商品详情\r\n * @param {String} id - 商品ID\r\n */\r\nexport const findGoods = (id) => {\r\n  return request('/goods', 'get', { id })\r\n}\r\n\r\n/**\r\n * 获取相关推荐商品|猜你喜欢商品\r\n * @param {String} id - 商品ID，传入相关推荐，不传猜你喜欢\r\n * @param {Integer} limit - 商品数量\r\n */\r\nexport const findRelevantGoods = ({ id, limit = 16 }) => {\r\n  return request('/goods/relevant', 'get', { id, limit })\r\n}\r\n\r\n/**\r\n * 获取热销榜数据\r\n * @param {String} id - 商品ID\r\n * @param {Integer} limit - 商品数量\r\n * @param {Integer} type - 热销类型，1为24小时，2为周榜，3为总榜，默认为1\r\n */\r\nexport const findGoodsHot = ({ id, limit = 3, type = 1 }) => {\r\n  return request('/goods/hot', 'get', { id, limit, type })\r\n}\r\n\r\n/**\r\n * 查询商品评价信息\r\n * @param {String} id - 商品ID\r\n * @returns\r\n */\r\nexport const findGoodsCommentInfo = (id) => {\r\n  // return request(`/goods/${id}/evaluate`, 'get')\r\n  // axios 遇见 http https 开头的地址，不会加上基准地址\r\n  return request(`https://mock.boxuegu.com/mock/1175/goods/${id}/evaluate`, 'get')\r\n}\r\n\r\n/**\r\n * 查询商品评价列表\r\n * @param {String} id - 商品ID\r\n * @param {Object} params - 商品ID\r\n * @returns\r\n */\r\nexport const findGoodsCommentList = (id, params) => {\r\n  return request(`https://mock.boxuegu.com/mock/1175/goods/${id}/evaluate/page`, 'get', params)\r\n}\r\n","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","<template>\r\n <!-- 规格组件-基础结构和样式 -->\r\n  <div class=\"goods-sku\">\r\n    <dl v-for=\"item in goods.specs\" :key=\"item.id\">\r\n      <dt>{{item.name}}</dt>\r\n      <dd>\r\n        <template v-for=\"val in item.values\" :key=\"val.name\">\r\n          <img :class=\"{selected:val.selected,disabled:val.disabled}\" @click=\"changeSku(item,val)\" v-if=\"val.picture\" :src=\"val.picture\" :title=\"val.name\" >\r\n          <span :class=\"{selected:val.selected,disabled:val.disabled}\" @click=\"changeSku(item,val)\" v-else>{{val.name}}</span>\r\n        </template>\r\n      </dd>\r\n    </dl>\r\n  </div>\r\n</template>\r\n<script>\r\nimport powerSet from '@/vender/power-set'\r\nconst spliter = '★'\r\n// 得到一个路径字典对象\r\nconst getPathMap = (skus) => {\r\n  // 1. 得到所有的sku集合  props.goods.skus\r\n  // 2. 从所有的sku中筛选出有效的sku\r\n  // 3. 根据有效的sku使用power-set算法得到子集\r\n  // 4. 根据子集往路径字典对象中存储 key-value\r\n  const pathMap = {}\r\n  skus.forEach(sku => {\r\n    if (sku.inventory > 0) {\r\n      // 计算当前有库存的sku的子集\r\n      // 例如：[1,2,3] ==> [[1],[2],[3],[1,2],[1,3],[2,3],[1,2,3]]\r\n      // 可选值数组\r\n      const valueArr = sku.specs.map(val => val.valueName)\r\n      // 可选值数组 子集\r\n      const valueArrPowerSet = powerSet(valueArr)\r\n      // 遍历子集，往pathMap插入数据\r\n      valueArrPowerSet.forEach(arr => {\r\n        // 根据arr得到字符串的key，约定key是：['蓝色','美国'] ===> '蓝色★美国'\r\n        const key = arr.join(spliter)\r\n        // 给pathMap设置数据\r\n        if (pathMap[key]) {\r\n          pathMap[key].push(sku.id)\r\n        } else {\r\n          pathMap[key] = [sku.id]\r\n        }\r\n      })\r\n    }\r\n  })\r\n  return pathMap\r\n}\r\n// 获取已选中的值数组\r\nconst getSelectedValues = (specs) => {\r\n  const arr = []\r\n  specs.forEach(item => {\r\n    // 选中的按钮对象\r\n    const seletedVal = item.values.find(val => val.selected)\r\n    arr.push(seletedVal ? seletedVal.name : undefined)\r\n  })\r\n  return arr\r\n}\r\n// 更新按钮禁用状态\r\nconst updateDisabledStatus = (specs, pathMap) => {\r\n  // 1. 约定每一个按钮的状态由本身的disabled数据来控制\r\n  specs.forEach((item, i) => {\r\n    const selectedValues = getSelectedValues(specs)\r\n    item.values.forEach(val => {\r\n      // 2. 判断当前是否选中，是选中不用判断\r\n      if (val.selected) return\r\n      // 3. 拿当前的值按照顺序套入选中的值数组\r\n      selectedValues[i] = val.name\r\n      // 4. 剔除undefined数据，按照分隔符拼接key\r\n      const key = selectedValues.filter(value => value).join(spliter)\r\n      // 5. 拿着key去路径字典中查找是否有数据，有可以点击，没有就禁用（true）\r\n      val.disabled = !pathMap[key]\r\n    })\r\n  })\r\n}\r\n// 默认选中\r\nconst initDefaultSelected = (goods, skuId) => {\r\n  // 1. 找出sku的信息\r\n  // 2. 遍历每一个按钮，按钮的值和sku记录的值相同，就选中。\r\n  const sku = goods.skus.find(sku => sku.id === skuId)\r\n  goods.specs.forEach((item, i) => {\r\n    const val = item.values.find(val => val.name === sku.specs[i].valueName)\r\n    val.selected = true\r\n  })\r\n}\r\n\r\nexport default {\r\n  name: 'GoodsSku',\r\n  props: {\r\n    goods: {\r\n      type: Object,\r\n      default: () => ({})\r\n    },\r\n    skuId: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  setup (props, { emit }) {\r\n    const pathMap = getPathMap(props.goods.skus)\r\n    // 根据skuId初始化选中\r\n    if (props.skuId) {\r\n      initDefaultSelected(props.goods, props.skuId)\r\n    }\r\n    // ☆组件初始化：更新按钮禁用状态\r\n    updateDisabledStatus(props.goods.specs, pathMap)\r\n    // 1. 选中与取消选中，约定在每一个按钮都拥有自己的选中状态数据：selected\r\n    // 1.1 点击的是已选中，只需要取消当前的选中\r\n    // 1.2 点击的是未选中，把同一个规格的按钮改成未选中，当前点击的改成选中\r\n    const changeSku = (item, val) => {\r\n      // 当按钮是禁用的阻止程序运行\r\n      if (val.disabled) return\r\n      // 如果不是禁用正常运行\r\n      if (val.selected) {\r\n        val.selected = false\r\n      } else {\r\n        item.values.forEach(valItem => {\r\n          valItem.selected = false\r\n        })\r\n        val.selected = true\r\n      }\r\n      // ☆点击按钮时：更新按钮禁用状态\r\n      updateDisabledStatus(props.goods.specs, pathMap)\r\n      // 将你选择的sku信息通知父组件{skuId,price,oldPrice,inventory,specsText}\r\n      // 1. 选择完整的sku组合按钮，才可以拿到这些信息，提交父组件\r\n      // 2. 不是完整的sku组合按钮，提交空对象父组件\r\n      const validSelectedValues = getSelectedValues(props.goods.specs).filter(v => v)\r\n      if (validSelectedValues.length === props.goods.specs.length) {\r\n        // 完整\r\n        const skuIds = pathMap[validSelectedValues.join(spliter)]\r\n        const sku = props.goods.skus.find(sku => sku.id === skuIds[0])\r\n        emit('change', {\r\n          skuId: sku.id,\r\n          price: sku.price,\r\n          oldPrice: sku.oldPrice,\r\n          inventory: sku.inventory,\r\n          // 属性名：属性值 属性名1：属性值1 ... 这样的字符串\r\n          specsText: sku.specs.reduce((p, c) => `${p} ${c.name}：${c.valueName}`, '').trim()\r\n        })\r\n      } else {\r\n        // 不完整\r\n        // 父组件需要判断是否规格选择完整，不完整不能加购物车。\r\n        emit('change', {})\r\n      }\r\n    }\r\n    return { changeSku }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.sku-state-mixin () {\r\n  border: 1px solid #e4e4e4;\r\n  margin-right: 10px;\r\n  cursor: pointer;\r\n  &.selected {\r\n    border-color: @xtxColor;\r\n  }\r\n  &.disabled {\r\n    opacity: 0.6;\r\n    border-style: dashed;\r\n    cursor: not-allowed;\r\n  }\r\n}\r\n.goods-sku {\r\n  padding-left: 10px;\r\n  padding-top: 20px;\r\n  dl {\r\n    display: flex;\r\n    padding-bottom: 10px;\r\n    align-items: center;\r\n    dt {\r\n      width: 50px;\r\n      color: #999;\r\n    }\r\n    dd {\r\n      flex: 1;\r\n      color: #666;\r\n      line-height: 40px;\r\n      > img {\r\n        width: 50px;\r\n        height: 50px;\r\n        margin-bottom: 5px;\r\n        .sku-state-mixin ();\r\n      }\r\n      > span {\r\n        display: inline-block;\r\n        height: 30px;\r\n        line-height: 28px;\r\n        padding: 0 20px;\r\n        .sku-state-mixin ();\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","/**\r\n * Find power-set of a set using BITWISE approach.\r\n *\r\n * @param {*[]} originalSet\r\n * @return {*[][]}\r\n */\r\n export default function bwPowerSet(originalSet) {\r\n  const subSets = [];\r\n\r\n  // We will have 2^n possible combinations (where n is a length of original set).\r\n  // It is because for every element of original set we will decide whether to include\r\n  // it or not (2 options for each set element).\r\n  const numberOfCombinations = 2 ** originalSet.length;\r\n\r\n  // Each number in binary representation in a range from 0 to 2^n does exactly what we need:\r\n  // it shows by its bits (0 or 1) whether to include related element from the set or not.\r\n  // For example, for the set {1, 2, 3} the binary number of 0b010 would mean that we need to\r\n  // include only \"2\" to the current set.\r\n  for (let combinationIndex = 0; combinationIndex < numberOfCombinations; combinationIndex += 1) {\r\n    const subSet = [];\r\n\r\n    for (let setElementIndex = 0; setElementIndex < originalSet.length; setElementIndex += 1) {\r\n      // Decide whether we need to include current element into the subset or not.\r\n      if (combinationIndex & (1 << setElementIndex)) {\r\n        subSet.push(originalSet[setElementIndex]);\r\n      }\r\n    }\r\n\r\n    // Add current subset to the list of all subsets.\r\n    subSets.push(subSet);\r\n  }\r\n\r\n  return subSets;\r\n}","import { render } from \"./goods-sku.vue?vue&type=template&id=8b9ee714&scoped=true\"\nimport script from \"./goods-sku.vue?vue&type=script&lang=js\"\nexport * from \"./goods-sku.vue?vue&type=script&lang=js\"\n\nimport \"./goods-sku.vue?vue&type=style&index=0&id=8b9ee714&scoped=true&lang=less\"\nscript.render = render\nscript.__scopeId = \"data-v-8b9ee714\"\n\nexport default script"],"sourceRoot":""}