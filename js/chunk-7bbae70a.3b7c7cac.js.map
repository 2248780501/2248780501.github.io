{"version":3,"sources":["webpack:///./src/views/member/pay/index.vue?c505","webpack:///./src/views/member/pay/index.vue","webpack:///./src/views/member/pay/index.vue?aa34","webpack:///./node_modules/dayjs/dayjs.min.js","webpack:///./src/hooks/index.js","webpack:///./src/assets/images/load.gif","webpack:///./src/api/order.js"],"names":["class","src","alt","to","order","countdown","timeText","payMoney","title","visible","visibleDialog","$route","query","orderId","name","setup","route","then","data","value","result","start","redirect","encodeURIComponent","payUrl","router","timer","clearTimeout","open","setTimeout","push","render","__scopeId","t","e","module","exports","this","n","r","i","s","u","a","o","f","h","c","d","weekdays","split","months","$","String","length","Array","join","l","z","utcOffset","Math","abs","floor","m","date","year","month","clone","add","ceil","p","M","y","w","D","ms","Q","toLowerCase","replace","S","v","args","arguments","g","locale","$L","utc","$u","x","$x","$offset","parse","prototype","$d","Date","NaN","test","match","substring","UTC","init","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","toString","isSame","startOf","endOf","isAfter","isBefore","$g","set","unix","valueOf","getTime","toDate","apply","slice","$locale","weekStart","$set","min","daysInMonth","get","Number","round","subtract","format","substr","meridiem","YY","YYYY","MM","MMM","monthsShort","MMMM","DD","dd","weekdaysMin","ddd","weekdaysShort","dddd","H","HH","hh","A","mm","ss","SSS","Z","getTimezoneOffset","diff","toJSON","toISOString","toUTCString","forEach","extend","$i","isDayjs","en","Ls","useLazyData","apiFn","ref","target","useIntersectionObserver","observerElement","isIntersecting","stop","threshold","usePayTime","time","useIntervalFn","dayjs","pause","resume","onUnmounted","createOrder","request","repurchaseOrder","addAddress","form","editAddress","id","submitOrder","params","findOrderDetail","findOrderList","page","pageSize","orderState","cancelOrder","cancelReason","deleteOrder","ids","confirmOrder","logisticsOrder"],"mappings":"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","file":"js/chunk-7bbae70a.3b7c7cac.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=1373e242&scoped=true&lang=less\"","<template>\r\n <!-- 支付-支付页面-基础布局 -->\r\n  <div class=\"xtx-pay-page\">\r\n    <div class=\"container\">\r\n      <XtxBread>\r\n        <XtxBreadItem to=\"/\">首页</XtxBreadItem>\r\n        <XtxBreadItem to=\"/cart\">购物车</XtxBreadItem>\r\n        <XtxBreadItem>支付订单</XtxBreadItem>\r\n      </XtxBread>\r\n      <!-- 付款信息 -->\r\n      <div class=\"pay-info\" v-if=\"order\">\r\n        <span class=\"icon iconfont icon-queren2\"></span>\r\n        <div class=\"tip\">\r\n          <p>订单提交成功！请尽快完成支付。</p>\r\n          <p v-if=\"order.countdown > -1\">支付还剩 <span>{{timeText}}</span>, 超时后将取消订单</p>\r\n          <p v-else>订单已经超时</p>\r\n        </div>\r\n        <div class=\"amount\">\r\n          <span>应付总额：</span>\r\n          <span>¥{{order.payMoney}}</span>\r\n        </div>\r\n      </div>\r\n      <!-- 付款方式 -->\r\n      <div class=\"pay-type\">\r\n        <p class=\"head\">选择以下支付方式付款</p>\r\n        <div class=\"item\">\r\n          <p>支付平台</p>\r\n          <a class=\"btn wx\" href=\"javascript:;\"></a>\r\n          <!-- <a class=\"btn alipay\" @click=\"open()\" :href=\"payUrl\" target=\"_blank\"></a> -->\r\n        </div>\r\n        <div class=\"item\">\r\n          <p>支付方式</p>\r\n          <a class=\"btn\" href=\"javascript:;\">招商银行</a>\r\n          <a class=\"btn\" href=\"javascript:;\">工商银行</a>\r\n          <a class=\"btn\" href=\"javascript:;\">建设银行</a>\r\n          <a class=\"btn\" href=\"javascript:;\">农业银行</a>\r\n          <a class=\"btn\" href=\"javascript:;\">交通银行</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 支付提示对话框 -->\r\n    <XtxDialog title=\"正在支付...\" v-model:visible=\"visibleDialog\">\r\n      <div class=\"pay-wait\">\r\n        <img src=\"@/assets/images/load.gif\" alt=\"\">\r\n        <div v-if=\"order\">\r\n            <p>如果支付成功：</p>\r\n            <RouterLink :to=\"`/member/order/${$route.query.orderId}`\">查看订单详情></RouterLink>\r\n            <p>如果支付失败：</p>\r\n            <RouterLink to=\"/\">查看相关疑问></RouterLink>\r\n        </div>\r\n      </div>\r\n    </XtxDialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport { findOrderDetail } from '@/api/order'\r\nimport { onUnmounted, ref } from 'vue'\r\nimport { usePayTime } from '@/hooks'\r\nimport { baseURL } from '@/utils/request'\r\n\r\nexport default {\r\n  name: 'XtxPayPage',\r\n  setup () {\r\n    // 根据地址栏ID发请求获取订单数据\r\n    const route = useRoute()\r\n    const order = ref(null)\r\n    findOrderDetail(route.query.orderId).then(data => {\r\n      order.value = data.result\r\n      // 后端提供 countdown 倒计时秒数\r\n      if (data.result.countdown > -1) {\r\n        start(data.result.countdown)\r\n      }\r\n    })\r\n\r\n    // 倒计时工具函数\r\n    const { start, timeText } = usePayTime()\r\n\r\n    // 支付地址\r\n    // const payUrl = '后台服务基准地址+支付页面地址+订单ID+回跳地址'\r\n    const redirect = encodeURIComponent(\r\n      process.env.NODE_ENV === 'development'\r\n        ? 'http://www.corho.com:8080/#/pay/callback'\r\n        : 'http://erabbit.itheima.net/#/pay/callback'\r\n    )\r\n    const payUrl = `${baseURL}pay/aliPay?orderId=${route.query.orderId}&redirect=${redirect}`\r\n\r\n    const visibleDialog = ref(false)\r\n\r\n    // 定时跳转详情页\r\n    const router = useRouter()\r\n    let timer = null\r\n    onUnmounted(() => {\r\n      clearTimeout(timer)\r\n    })\r\n    const open = () => {\r\n      visibleDialog.value = true\r\n      timer = setTimeout(() => {\r\n        router.push(`/member/order/${route.query.orderId}`)\r\n      }, 180 * 1000)\r\n    }\r\n\r\n    return {\r\n      order,\r\n      timeText,\r\n      payUrl,\r\n      visibleDialog,\r\n      open\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.pay-wait {\r\n  display: flex;\r\n  justify-content: space-around;\r\n  p {\r\n    margin-top: 30px;\r\n    font-size: 14px;\r\n  }\r\n  a {\r\n    color: @xtxColor;\r\n  }\r\n}\r\n.pay-info {\r\n  background: #fff;\r\n  display: flex;\r\n  align-items: center;\r\n  height: 240px;\r\n  padding: 0 80px;\r\n  .icon {\r\n    font-size: 80px;\r\n    color: #1dc779;\r\n  }\r\n  .tip {\r\n    padding-left: 10px;\r\n    flex: 1;\r\n    p {\r\n      &:first-child {\r\n        font-size: 20px;\r\n        margin-bottom: 5px;\r\n      }\r\n      &:last-child {\r\n        color: #999;\r\n        font-size: 16px;\r\n      }\r\n    }\r\n  }\r\n  .amount {\r\n    span {\r\n      &:first-child {\r\n        font-size: 16px;\r\n        color: #999;\r\n      }\r\n      &:last-child {\r\n        color: @priceColor;\r\n        font-size: 20px;\r\n      }\r\n    }\r\n  }\r\n}\r\n.pay-type {\r\n  margin-top: 20px;\r\n  background-color: #fff;\r\n  padding-bottom: 70px;\r\n  p {\r\n    line-height: 70px;\r\n    height: 70px;\r\n    padding-left: 30px;\r\n    font-size: 16px;\r\n    &.head {\r\n      border-bottom: 1px solid #f5f5f5;\r\n    }\r\n  }\r\n  .btn {\r\n    width: 150px;\r\n    height: 50px;\r\n    border: 1px solid #e4e4e4;\r\n    text-align: center;\r\n    line-height: 48px;\r\n    margin-left: 30px;\r\n    color: #666666;\r\n    display: inline-block;\r\n    &.active,\r\n    &:hover {\r\n      border-color: @xtxColor;\r\n    }\r\n    &.alipay {\r\n      background: url(https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/7b6b02396368c9314528c0bbd85a2e06.png) no-repeat center / contain;\r\n    }\r\n    &.wx {\r\n      background: url(https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/c66f98cff8649bd5ba722c2e8067c6ca.jpg) no-repeat center / contain;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=1373e242&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=1373e242&scoped=true&lang=less\"\nscript.render = render\nscript.__scopeId = \"data-v-1373e242\"\n\nexport default script","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):t.dayjs=e()}(this,function(){\"use strict\";var t=\"millisecond\",e=\"second\",n=\"minute\",r=\"hour\",i=\"day\",s=\"week\",u=\"month\",a=\"quarter\",o=\"year\",f=\"date\",h=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[^0-9]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,c=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\")},$=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},l={s:$,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+$(r,2,\"0\")+\":\"+$(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,u),s=n-i<0,a=e.clone().add(r+(s?-1:1),u);return+(-(r+(n-i)/(s?i-a:a-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(h){return{M:u,y:o,w:s,d:i,D:f,h:r,m:n,s:e,ms:t,Q:a}[h]||String(h||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},y=\"en\",M={};M[y]=d;var m=function(t){return t instanceof S},D=function(t,e,n){var r;if(!t)return y;if(\"string\"==typeof t)M[t]&&(r=t),e&&(M[t]=e,r=t);else{var i=t.name;M[i]=t,r=i}return!n&&r&&(y=r),r||!n&&y},v=function(t,e){if(m(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new S(n)},g=l;g.l=D,g.i=m,g.w=function(t,e){return v(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var S=function(){function d(t){this.$L=D(t.locale,null,!0),this.parse(t)}var $=d.prototype;return $.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(g.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match(h);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},$.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},$.$utils=function(){return g},$.isValid=function(){return!(\"Invalid Date\"===this.$d.toString())},$.isSame=function(t,e){var n=v(t);return this.startOf(e)<=n&&n<=this.endOf(e)},$.isAfter=function(t,e){return v(t)<this.startOf(e)},$.isBefore=function(t,e){return this.endOf(e)<v(t)},$.$g=function(t,e,n){return g.u(t)?this[e]:this.set(n,t)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(t,a){var h=this,c=!!g.u(a)||a,d=g.p(t),$=function(t,e){var n=g.w(h.$u?Date.UTC(h.$y,e,t):new Date(h.$y,e,t),h);return c?n:n.endOf(i)},l=function(t,e){return g.w(h.toDate()[t].apply(h.toDate(\"s\"),(c?[0,0,0,0]:[23,59,59,999]).slice(e)),h)},y=this.$W,M=this.$M,m=this.$D,D=\"set\"+(this.$u?\"UTC\":\"\");switch(d){case o:return c?$(1,0):$(31,11);case u:return c?$(1,M):$(0,M+1);case s:var v=this.$locale().weekStart||0,S=(y<v?y+7:y)-v;return $(c?m-S:m+(6-S),M);case i:case f:return l(D+\"Hours\",0);case r:return l(D+\"Minutes\",1);case n:return l(D+\"Seconds\",2);case e:return l(D+\"Milliseconds\",3);default:return this.clone()}},$.endOf=function(t){return this.startOf(t,!1)},$.$set=function(s,a){var h,c=g.p(s),d=\"set\"+(this.$u?\"UTC\":\"\"),$=(h={},h[i]=d+\"Date\",h[f]=d+\"Date\",h[u]=d+\"Month\",h[o]=d+\"FullYear\",h[r]=d+\"Hours\",h[n]=d+\"Minutes\",h[e]=d+\"Seconds\",h[t]=d+\"Milliseconds\",h)[c],l=c===i?this.$D+(a-this.$W):a;if(c===u||c===o){var y=this.clone().set(f,1);y.$d[$](l),y.init(),this.$d=y.set(f,Math.min(this.$D,y.daysInMonth())).$d}else $&&this.$d[$](l);return this.init(),this},$.set=function(t,e){return this.clone().$set(t,e)},$.get=function(t){return this[g.p(t)]()},$.add=function(t,a){var f,h=this;t=Number(t);var c=g.p(a),d=function(e){var n=v(h);return g.w(n.date(n.date()+Math.round(e*t)),h)};if(c===u)return this.set(u,this.$M+t);if(c===o)return this.set(o,this.$y+t);if(c===i)return d(1);if(c===s)return d(7);var $=(f={},f[n]=6e4,f[r]=36e5,f[e]=1e3,f)[c]||1,l=this.$d.getTime()+t*$;return g.w(l,this)},$.subtract=function(t,e){return this.add(-1*t,e)},$.format=function(t){var e=this;if(!this.isValid())return\"Invalid Date\";var n=t||\"YYYY-MM-DDTHH:mm:ssZ\",r=g.z(this),i=this.$locale(),s=this.$H,u=this.$m,a=this.$M,o=i.weekdays,f=i.months,h=function(t,r,i,s){return t&&(t[r]||t(e,n))||i[r].substr(0,s)},d=function(t){return g.s(s%12||12,t,\"0\")},$=i.meridiem||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:g.s(a+1,2,\"0\"),MMM:h(i.monthsShort,a,f,3),MMMM:h(f,a),D:this.$D,DD:g.s(this.$D,2,\"0\"),d:String(this.$W),dd:h(i.weekdaysMin,this.$W,o,2),ddd:h(i.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:g.s(s,2,\"0\"),h:d(1),hh:d(2),a:$(s,u,!0),A:$(s,u,!1),m:String(u),mm:g.s(u,2,\"0\"),s:String(this.$s),ss:g.s(this.$s,2,\"0\"),SSS:g.s(this.$ms,3,\"0\"),Z:r};return n.replace(c,function(t,e){return e||l[t]||r.replace(\":\",\"\")})},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(t,f,h){var c,d=g.p(f),$=v(t),l=6e4*($.utcOffset()-this.utcOffset()),y=this-$,M=g.m(this,$);return M=(c={},c[o]=M/12,c[u]=M,c[a]=M/3,c[s]=(y-l)/6048e5,c[i]=(y-l)/864e5,c[r]=y/36e5,c[n]=y/6e4,c[e]=y/1e3,c)[d]||y,h?M:g.a(M)},$.daysInMonth=function(){return this.endOf(u).$D},$.$locale=function(){return M[this.$L]},$.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=D(t,e,!0);return r&&(n.$L=r),n},$.clone=function(){return g.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},d}(),p=S.prototype;return v.prototype=p,[[\"$ms\",t],[\"$s\",e],[\"$m\",n],[\"$H\",r],[\"$W\",i],[\"$M\",u],[\"$y\",o],[\"$D\",f]].forEach(function(t){p[t[1]]=function(e){return this.$g(e,t[0],t[1])}}),v.extend=function(t,e){return t.$i||(t(e,S,v),t.$i=!0),v},v.locale=D,v.isDayjs=m,v.unix=function(t){return v(1e3*t)},v.en=M[y],v.Ls=M,v.p={},v});\n","// 提供复用逻辑的函数（钩子）\r\nimport { useIntersectionObserver, useIntervalFn } from '@vueuse/core'\r\nimport { ref, onUnmounted } from 'vue'\r\nimport dayjs from 'dayjs'\r\n\r\n/**\r\n * 数据懒加载函数\r\n * @param {Element} target - Dom对象\r\n * @param {Function} apiFn - API函数\r\n */\r\nexport const useLazyData = (apiFn) => {\r\n  const result = ref([])\r\n  const target = ref(null)\r\n  // stop 停止观察\r\n  const { stop } = useIntersectionObserver(\r\n    // 监听的目标元素\r\n    target,\r\n    ([{ isIntersecting }], observerElement) => {\r\n      // isIntersecting 是否进入可视区\r\n      if (isIntersecting) {\r\n        stop()\r\n        // 调用API函数获取数据\r\n        apiFn().then(data => {\r\n          result.value = data.result\r\n        })\r\n      }\r\n    },\r\n    // 配置选项，相交的比例大于0就触发\r\n    {\r\n      threshold: 0\r\n    }\r\n  )\r\n  return { result, target }\r\n}\r\n\r\n/**\r\n * 支付倒计时函数\r\n */\r\nexport const usePayTime = () => {\r\n  // 倒计时逻辑\r\n  const time = ref(0)\r\n  const timeText = ref('')\r\n  const { pause, resume } = useIntervalFn(() => {\r\n    time.value--\r\n    timeText.value = dayjs.unix(time.value).format('mm分ss秒')\r\n    if (time.value <= 0) {\r\n      pause()\r\n    }\r\n  }, 1000, false)\r\n  onUnmounted(() => {\r\n    pause()\r\n  })\r\n\r\n  // 开启定时器 countdown 倒计时时间\r\n  const start = (countdown) => {\r\n    time.value = countdown\r\n    timeText.value = dayjs.unix(time.value).format('mm分ss秒')\r\n    resume()\r\n  }\r\n\r\n  return {\r\n    start,\r\n    timeText\r\n  }\r\n}\r\n","module.exports = __webpack_public_path__ + \"img/load.88daf935.gif\";","// 订单相关的API函数\r\n\r\nimport request from '@/utils/request'\r\n\r\n/**\r\n * 结算页面-生成订单-根据购物车选中商品\r\n * @returns\r\n */\r\nexport const createOrder = () => {\r\n  return request('/member/order/pre', 'get')\r\n}\r\n\r\n/**\r\n * 结算页面-生成订单-根据订单中商品-再次购买\r\n * @returns\r\n */\r\nexport const repurchaseOrder = (orderId) => {\r\n  return request('/member/order/repurchase/' + orderId, 'get')\r\n}\r\n\r\n/**\r\n * 添加收货地址\r\n * @param {Object} form - 参考接口文档\r\n */\r\nexport const addAddress = (form) => {\r\n  return request('/member/address', 'post', form)\r\n}\r\n\r\n/**\r\n * 修改收货地址\r\n * @param {Object} form - 参考接口文档\r\n */\r\nexport const editAddress = (form) => {\r\n  return request(`/member/address/${form.id}`, 'put', form)\r\n}\r\n\r\n/**\r\n * 结算页面-提交订单\r\n * @param {Object} params - 参考接口文档\r\n * @returns\r\n */\r\nexport const submitOrder = (params) => {\r\n  return request('/member/order', 'post', params)\r\n}\r\n\r\n/**\r\n * 获取订单详细\r\n * @param {String} orderId - 订单ID\r\n * @returns\r\n */\r\nexport const findOrderDetail = (orderId) => {\r\n  return request('/member/order/' + orderId, 'get')\r\n}\r\n/**\r\n * 获取订单列表\r\n * @param {String} page - 页码\r\n * @param {String} pageSize - 每页条数\r\n * @param {String} orderState - 订单状态，1为待付款、2为待发货、3为待收货、4为待评价、5为已完成、6为已取消，未传该参数或0为全部\r\n * @returns\r\n */\r\nexport const findOrderList = ({ page = 1, pageSize = 10, orderState = 0 }) => {\r\n  return request('/member/order', 'get', { page, pageSize, orderState })\r\n}\r\n\r\n/**\r\n * 取消订单\r\n * @param {String} orderId - 订单ID\r\n * @param {String} cancelReason - 取消原因\r\n * @returns\r\n */\r\nexport const cancelOrder = ({ orderId, cancelReason }) => {\r\n  return request(`/member/order/${orderId}/cancel`, 'put', { cancelReason })\r\n}\r\n\r\n/**\r\n * 删除订单\r\n * @param {String} orderId - 订单ID\r\n * @returns\r\n */\r\nexport const deleteOrder = (orderId) => {\r\n  return request('/member/order', 'delete', { ids: [orderId] })\r\n}\r\n\r\n/**\r\n * 确认收货\r\n * @param {String} orderId - 订单ID\r\n * @returns\r\n */\r\nexport const confirmOrder = (orderId) => {\r\n  return request(`/member/order/${orderId}/receipt`, 'put')\r\n}\r\n\r\n/**\r\n * 查询物流\r\n * @param {String} orderId - 订单ID\r\n * @returns\r\n */\r\nexport const logisticsOrder = (orderId) => {\r\n  return request(`/member/order/${orderId}/logistics`, 'get')\r\n}\r\n"],"sourceRoot":""}