{"version":3,"sources":["webpack:///./src/api/home.js","webpack:///./src/views/category/index.vue?9a90","webpack:///./src/views/category/components/goods-item.vue?dae1","webpack:///./src/views/category/components/goods-item.vue","webpack:///./src/views/category/components/goods-item.vue?32cc","webpack:///./src/views/category/index.vue","webpack:///./src/views/category/index.vue?08c9"],"names":["findBrand","limit","request","findBanner","findNew","findHot","findGoods","findSpecial","alt","class","href","isLink","to","goods","id","picture","name","desc","price","props","type","Object","default","Boolean","render","__scopeId","mode","key","topCategory","auto-play","sliders","style","children","sub","src","subList","path","components","GoodsItem","setup","then","data","value","result","store","route","cate","item","state","category","list","find","params","getSubList","newVal","immediate"],"mappings":"gHAAA,4NAQaA,EAAY,WAAe,IAAdC,EAAc,uDAAN,EAChC,OAAOC,eAAQ,cAAe,MAAO,CAAED,WAO5BE,EAAa,WACxB,OAAOD,eAAQ,eAAgB,QAOpBE,EAAU,WACrB,OAAOF,eAAQ,YAAa,QAOjBG,EAAU,WACrB,OAAOH,eAAQ,YAAa,QAOjBI,EAAY,WACvB,OAAOJ,eAAQ,cAAe,QAOnBK,EAAc,WACzB,OAAOL,eAAQ,gBAAiB,S,kCCjDlC,W,6DCAA,W,+JCGgCM,IAAI,I,GAC7BC,MAAM,iB,GACNA,MAAM,iB,GACNA,MAAM,S,SAEDC,KAAK,eAAeD,MAAM,c,GACND,IAAI,I,GAC7BC,MAAM,iB,GACNA,MAAM,iB,GACNA,MAAM,S,0JAVO,EAAAE,Q,yBAAlB,yBAKa,G,MALcC,GAAE,mBAAc,EAAAC,MAAMC,IAAML,MAAM,c,YAC3D,iBAAmC,C,4BAAnC,yBAAmC,MAAnC,EAAmC,W,GAAtB,EAAAI,MAAME,WACnB,yBAA2C,IAA3C,EAA2C,6BAAhB,EAAAF,MAAMG,MAAI,GACrC,yBAA2C,IAA3C,EAA2C,6BAAhB,EAAAH,MAAMI,MAAI,GACrC,yBAAyC,IAAzC,EAAiB,IAAK,6BAAE,EAAAJ,MAAMK,OAAK,O,0CAErC,yBAKI,IALJ,EAKI,C,4BAJF,yBAAmC,MAAnC,EAAmC,W,GAAtB,EAAAL,MAAME,WACnB,yBAA2C,IAA3C,EAA2C,6BAAhB,EAAAF,MAAMG,MAAI,GACrC,yBAA2C,IAA3C,EAA2C,6BAAhB,EAAAH,MAAMI,MAAI,GACrC,yBAAyC,IAAzC,EAAiB,IAAK,6BAAE,EAAAJ,MAAMK,OAAK,SAKxB,GACbF,KAAM,YACNG,MAAO,CACLN,MAAO,CACLO,KAAMC,OACNC,QAAS,iBAAO,KAElBX,OAAQ,CACNS,KAAMG,QACND,SAAS,K,UCrBf,EAAOE,OAASA,EAChB,EAAOC,UAAY,kBAEJ,U,oKCNRhB,MAAM,gB,GACJA,MAAM,a,+BAGc,M,GAQlBA,MAAM,Y,EACT,yBAAa,UAAT,QAAI,G,GAYHA,MAAM,Q,EAET,yBAA4B,KAAzBA,MAAM,OAAM,aAAS,G,GAGrBA,MAAM,Q,8WA9BjB,yBAmCM,MAnCN,EAmCM,CAlCJ,yBAiCM,MAjCN,EAiCM,CA/BJ,yBAKW,Q,WAJT,iBAAsC,CAAtC,yBAAsC,GAAxBG,GAAG,KAAG,C,WAAC,iBAAE,C,YACvB,yBAEa,iBAFDI,KAAK,aAAaU,KAAK,U,YACjC,iBAAuE,CAAvE,yBAAuE,GAAxDC,IAAK,EAAAC,YAAYd,I,YAAI,iBAAoB,C,0DAAlB,EAAAc,YAAYZ,MAAI,O,0BAI1D,yBAAiE,GAApDa,YAAA,GAAWC,QAAS,EAAAA,QAASC,MAAA,kB,oBAE1C,yBAUM,MAVN,EAUM,CATJ,EACA,yBAOK,Y,2BANH,yBAKK,2CALa,EAAAH,YAAYI,UAAQ,SAA3BC,G,gCAAX,yBAKK,MALoCN,IAAKM,EAAInB,I,CAChD,yBAGa,GAHAF,GAAE,wBAAmBqB,EAAInB,K,YACpC,iBAAyB,CAAzB,yBAAyB,OAAnBoB,IAAKD,EAAIlB,S,gBACf,yBAAmB,sCAAdkB,EAAIjB,MAAI,O,6DAMrB,yBASM,2CAT+B,EAAAmB,SAAO,SAAdF,G,gCAA9B,yBASM,OATDxB,MAAM,YAAoCkB,IAAKM,EAAInB,I,CACtD,yBAIM,MAJN,EAIM,CAHJ,yBAAyB,UAArB,KAAE,6BAAEmB,EAAIjB,MAAM,KAAE,GACpB,EACA,yBAA6C,GAAnCoB,KAAI,wBAAmBH,EAAInB,K,mBAEvC,yBAEM,MAFN,EAEM,E,2BADJ,yBAAuE,2CAA5CmB,EAAIpB,OAAK,SAAlBA,G,gCAAlB,yBAAuE,GAAhCc,IAAKd,EAAMC,GAAKD,MAAOA,G,uHAazD,GACbG,KAAM,cACNqB,WAAY,CAAEC,UAAA,QACdC,MAHa,WAKX,IAAMT,EAAU,iBAAI,IACpB,iBAAaU,MAAK,SAAAC,GAChBX,EAAQY,MAAQD,EAAKE,UAIvB,IAAMC,EAAQ,iBACRC,EAAQ,iBACRjB,EAAc,uBAAS,WAC3B,IAAIkB,EAAO,GAELC,EAAOH,EAAMI,MAAMC,SAASC,KAAKC,MAAK,SAAAJ,GAC1C,OAAOA,EAAKjC,KAAO+B,EAAMO,OAAOtC,MAIlC,OADIiC,IAAMD,EAAOC,GACVD,KAIHX,EAAU,iBAAI,IACdkB,EAAa,WACjB,eAAgBR,EAAMO,OAAOtC,IAAI0B,MAAK,SAAAC,GACpCN,EAAQO,MAAQD,EAAKE,OAAOX,aAQhC,OALA,oBAAM,kBAAMa,EAAMO,OAAOtC,MAAI,SAACwC,GAExBA,GAAU,oBAAaA,KAAaT,EAAMT,MAAMiB,MACnD,CAAEE,WAAW,IAET,CACLzB,UACAF,cACAO,a,UChFN,EAAOX,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB","file":"js/chunk-097bb4c3.080a810d.js","sourcesContent":["// 提供首页相关API函数\r\nimport request from '@/utils/request'\r\n\r\n/**\r\n * 获取品牌\r\n * @param {Integer} limit - 品牌个数\r\n * @returns Promise\r\n */\r\nexport const findBrand = (limit = 6) => {\r\n  return request('/home/brand', 'get', { limit })\r\n}\r\n\r\n/**\r\n * 获取广告区轮播图\r\n * @returns Promise\r\n */\r\nexport const findBanner = () => {\r\n  return request('/home/banner', 'get')\r\n}\r\n\r\n/**\r\n * 获取新鲜好物\r\n * @returns Promise\r\n */\r\nexport const findNew = () => {\r\n  return request('/home/new', 'get')\r\n}\r\n\r\n/**\r\n * 获取人气推荐\r\n * @returns Promise\r\n */\r\nexport const findHot = () => {\r\n  return request('/home/hot', 'get')\r\n}\r\n\r\n/**\r\n * 获取商品板块\r\n * @returns Promise\r\n */\r\nexport const findGoods = () => {\r\n  return request('/home/goods', 'get')\r\n}\r\n\r\n/**\r\n * 获取最新专题\r\n * @returns Promise\r\n */\r\nexport const findSpecial = () => {\r\n  return request('/home/special', 'get')\r\n}\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=395a5efe&scoped=true&lang=less\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./goods-item.vue?vue&type=style&index=0&id=3d940a34&scoped=true&lang=less\"","<template>\r\n <!-- 顶级类目-分类商品-布局 -->\r\n  <RouterLink v-if=\"isLink\" :to=\"`/product/${goods.id}`\" class='goods-item'>\r\n    <img v-lazy=\"goods.picture\" alt=\"\">\r\n    <p class=\"name ellipsis\">{{goods.name}}</p>\r\n    <p class=\"desc ellipsis\">{{goods.desc}}</p>\r\n    <p class=\"price\">&yen;{{goods.price}}</p>\r\n  </RouterLink>\r\n  <a v-else href=\"javascript:;\" class='goods-item'>\r\n    <img v-lazy=\"goods.picture\" alt=\"\">\r\n    <p class=\"name ellipsis\">{{goods.name}}</p>\r\n    <p class=\"desc ellipsis\">{{goods.desc}}</p>\r\n    <p class=\"price\">&yen;{{goods.price}}</p>\r\n  </a>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'GoodsItem',\r\n  props: {\r\n    goods: {\r\n      type: Object,\r\n      default: () => ({})\r\n    },\r\n    isLink: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n.goods-item {\r\n  display: block;\r\n  width: 220px;\r\n  padding: 20px 30px;\r\n  text-align: center;\r\n  .hoverShadow();\r\n  img {\r\n    width: 160px;\r\n    height: 160px;\r\n  }\r\n  p {\r\n    padding-top: 10px;\r\n  }\r\n  .name {\r\n    font-size: 16px;\r\n  }\r\n  .desc {\r\n    color: #999;\r\n    height: 29px;\r\n  }\r\n  .price {\r\n    color: @priceColor;\r\n    font-size: 20px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./goods-item.vue?vue&type=template&id=3d940a34&scoped=true\"\nimport script from \"./goods-item.vue?vue&type=script&lang=js\"\nexport * from \"./goods-item.vue?vue&type=script&lang=js\"\n\nimport \"./goods-item.vue?vue&type=style&index=0&id=3d940a34&scoped=true&lang=less\"\nscript.render = render\nscript.__scopeId = \"data-v-3d940a34\"\n\nexport default script","<template>\r\n  <!-- 分类类目-布局 -->\r\n  <div class=\"top-category\">\r\n    <div class=\"container\">\r\n      <!-- 面包屑 -->\r\n      <XtxBread>\r\n        <XtxBreadItem to=\"/\">首页</XtxBreadItem>\r\n        <Transition name=\"fade-right\" mode=\"out-in\">\r\n          <XtxBreadItem :key=\"topCategory.id\">{{topCategory.name}}</XtxBreadItem>\r\n        </Transition>\r\n      </XtxBread>\r\n      <!-- 轮播图 -->\r\n      <XtxCarousel auto-play :sliders=\"sliders\" style=\"height:500px\" />\r\n      <!-- 所有二级分类 -->\r\n      <div class=\"sub-list\">\r\n        <h3>全部分类</h3>\r\n        <ul>\r\n          <li v-for=\"sub in topCategory.children\" :key=\"sub.id\">\r\n            <RouterLink :to=\"`/category/sub/${sub.id}`\">\r\n              <img :src=\"sub.picture\" >\r\n              <p>{{sub.name}}</p>\r\n            </RouterLink>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <!-- 各个分类推荐商品 -->\r\n      <div class=\"ref-goods\" v-for=\"sub in subList\" :key=\"sub.id\">\r\n        <div class=\"head\">\r\n          <h3>- {{sub.name}} -</h3>\r\n          <p class=\"tag\">温暖柔软，品质之选</p>\r\n          <XtxMore :path=\"`/category/sub/${sub.id}`\" />\r\n        </div>\r\n        <div class=\"body\">\r\n          <GoodsItem v-for=\"goods in sub.goods\" :key=\"goods.id\" :goods=\"goods\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { computed, ref, watch } from 'vue'\r\nimport { findBanner } from '@/api/home'\r\nimport { useStore } from 'vuex'\r\nimport { useRoute } from 'vue-router'\r\nimport GoodsItem from './components/goods-item'\r\nimport { findTopCategory } from '@/api/category'\r\nexport default {\r\n  name: 'TopCategory',\r\n  components: { GoodsItem },\r\n  setup () {\r\n    // 轮播图\r\n    const sliders = ref([])\r\n    findBanner().then(data => {\r\n      sliders.value = data.result\r\n    })\r\n\r\n    // 面包屑+所有子分类 ====> vuex\r\n    const store = useStore()\r\n    const route = useRoute()\r\n    const topCategory = computed(() => {\r\n      let cate = {}\r\n      // 当前顶级分类 === 根据路由上的ID去vuex中category模块的list中查找\r\n      const item = store.state.category.list.find(item => {\r\n        return item.id === route.params.id\r\n      })\r\n      // 找到数据赋值\r\n      if (item) cate = item\r\n      return cate\r\n    })\r\n\r\n    // 获取各个子类目下推荐商品\r\n    const subList = ref([])\r\n    const getSubList = () => {\r\n      findTopCategory(route.params.id).then(data => {\r\n        subList.value = data.result.children\r\n      })\r\n    }\r\n    watch(() => route.params.id, (newVal) => {\r\n      // newVal && getSubList() 加上一个严谨判断，在顶级类名下才发请求\r\n      if (newVal && `/category/${newVal}` === route.path) getSubList()\r\n    }, { immediate: true })\r\n\r\n    return {\r\n      sliders,\r\n      topCategory,\r\n      subList\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.top-category {\r\n  h3 {\r\n    font-size: 28px;\r\n    color: #666;\r\n    font-weight: normal;\r\n    text-align: center;\r\n    line-height: 100px;\r\n  }\r\n  .sub-list {\r\n    margin-top: 20px;\r\n    background-color: #fff;\r\n    ul {\r\n      display: flex;\r\n      padding: 0 32px;\r\n      flex-wrap: wrap;\r\n      min-height: 160px;\r\n      li {\r\n        width: 168px;\r\n        height: 160px;\r\n        a {\r\n          text-align: center;\r\n          display: block;\r\n          font-size: 16px;\r\n          img {\r\n            width: 100px;\r\n            height: 100px;\r\n          }\r\n          p {\r\n            line-height: 40px;\r\n          }\r\n          &:hover {\r\n            color: @xtxColor;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  // 推荐商品\r\n  .ref-goods {\r\n    background-color: #fff;\r\n    margin-top: 20px;\r\n    position: relative;\r\n    .head {\r\n      .xtx-more {\r\n        position: absolute;\r\n        top: 20px;\r\n        right: 20px;\r\n      }\r\n      .tag {\r\n        text-align: center;\r\n        color: #999;\r\n        font-size: 20px;\r\n        position: relative;\r\n        top: -20px;\r\n      }\r\n    }\r\n    .body {\r\n      display: flex;\r\n      justify-content: flex-start;\r\n      flex-wrap: wrap;\r\n      padding: 0 65px 30px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=395a5efe&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=395a5efe&scoped=true&lang=less\"\nscript.render = render\nscript.__scopeId = \"data-v-395a5efe\"\n\nexport default script"],"sourceRoot":""}